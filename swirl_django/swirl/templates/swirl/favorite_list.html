{% extends 'swirl/base.html' %} {% block content %}
<h3>Favorites</h3>
{% for item in favorites %}
<section class="section-title">{{item.item.title}}</section>
<div class="cart-items">
	<section>
		<img class="thumbnail-checkout" src="{{item.item.preview_url}}" />
	</section>
	<section class="section-title-inline">{{item.item.title}}</section>
	<section class="section-price">
		Price: ${{item.item.price|floatformat:2}}
	</section>
	<section class="section-quantity">
		<a data-product="{{item.item.id}}" data-action="add" class="update_cart">
			<div class="styled-button">Add to Cart</div></a
		>
		<a
			data-product="{{item.item.id}}"
			data-action="remove"
			class="update_favorite"
		>
			<div class="styled-button">Remove Item</div>
		</a>
	</section>
</div>
{% endfor %}
<div class="styled-div-container-2">
	<div class="styled-div-container">
		<div class="styled-button2">
			<a href="/products/"> Continue Shopping </a>
		</div>
	</div>
	<div class="styled-div-container">
		<div class="styled-button2"><a href="/cart/"> Go to Cart </a></div>
	</div>
	<div class="styled-div-container">
		<div class="styled-button2" id='clear-list'><a href="/favorite/"> Clear List </a></div>
	</div>
</div>
<script type="text/javascript">
    let clearFavoriteListButton = document.getElementById('clear-list')
    clearFavoriteListButton.addEventListener('click', function () {
            clearFavoriteList();
        });
    function clearFavoriteList() {
            console.log(favorite)
            favorite = {};
            document.cookie = 'favorite=' + JSON.stringify(favorite) + ';domain=;path=/'
        }    
</script>

{% endblock %}
